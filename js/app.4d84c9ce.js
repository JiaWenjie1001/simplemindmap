(function(){"use strict";var t={7962:function(t,e,n){var i=n(6848),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("index")],1)},a=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mindMapContainer"},[e("div",{attrs:{id:"mindMap"}}),e("div",{staticClass:"controlContainer"},t._l(t.newControlList,(function(n){return e("div",{key:n.iconClass,staticClass:"controlContent",attrs:{title:n.title}},["导出"===n.text?e("div",{staticClass:"controlItem"},[e("el-dropdown",{on:{command:t.generateImage}},[e("div",{staticClass:"controlItem"},[e("i",{class:n.iconClass}),e("span",[t._v(t._s(n.text))])]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"png"}},[t._v("png")]),e("el-dropdown-item",{attrs:{command:"pdf"}},[t._v("pdf")]),e("el-dropdown-item",{attrs:{command:"svg"}},[t._v("svg")]),e("el-dropdown-item",{attrs:{command:"json"}},[t._v("json")])],1)],1)],1):e("div",{staticClass:"controlItem",on:{click:n.onClick}},[e("i",{class:n.iconClass}),e("span",[t._v(t._s(n.text))])])])})),0),e("div",{staticClass:"shortcutContainer"},[!t.isReadonly&&t.isShortcut?e("div",{staticClass:"shortcutContent"},t._l(t.shortcutList,(function(n){return e("div",{key:n.text,staticClass:"shortcut"},[e("p",[e("i",{staticClass:"el-icon-info"}),e("label",[t._v(t._s(n.text))])]),e("span",[t._v(t._s(n.shortcut))])])})),0):t._e()]),e("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".json, application/json"},on:{change:t.handleUpload}})])},r=[],l=(n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),n(8992),n(4520),n(3949),n(4979),n(4603),n(7566),n(8721),n(937));const c={data:{text:"根节点"},children:[{data:{text:"二级节点",richText:!0,expand:!0,isActive:!1,uid:"648627bd-c55f-4c94-a2f6-7fc74d380ceb",dir:"left",icon:[],note:"备注",tag:[{name:"redIssuesNum",text:"15175"},{name:"orangeIssuesNum",text:"15615"},{name:"greenNum",text:"15125"}]},children:[{data:{text:"三级节点",expand:!0,richText:!0,isActive:!1,uid:"b15fdf18-b85f-4754-8bbb-4de5641f1bc2",tag:[{name:"redIssuesNum",text:"158715"},{name:"blueNum",text:"154515"}]},children:[{data:{text:"末尾节点",uid:"e446c260-b691-4bb1-abe0-f71a3c686bad",expand:!0,richText:!0,isActive:!1},children:[]}]}]}]};var d=n(7471),u=n(1392);l.A.usePlugin(d.A),l.A.usePlugin(u.A);var h={data(){return{mindMapData:c,mindMap:null,isReadonly:!1,isShortcut:!0,shortcutList:[{text:"插入下级节点",shortcut:"Tab | Insert"},{text:"插入同级节点",shortcut:"Enter"},{text:"插入父节点",shortcut:"Shift + Tab"},{text:"上移节点",shortcut:"Ctrl + ↑"},{text:"下移节点",shortcut:"Ctrl + ↓"},{text:"展开/收起节点",shortcut:"/"},{text:"删除节点",shortcut:"Delete | Backspace"},{text:"仅删除当前节点",shortcut:"Shift + Backspace"},{text:"复制节点",shortcut:"Ctrl + C"},{text:"剪切节点",shortcut:"Ctrl + X"},{text:"粘贴节点",shortcut:"Ctrl + V"},{text:"编辑节点",shortcut:"F2"},{text:"文本换行",shortcut:"Shift + Enter"},{text:"回退",shortcut:"Ctrl + Z"},{text:"前进",shortcut:"Ctrl + Y"},{text:"全选",shortcut:"Ctrl + A"},{text:"多选",shortcut:"Ctrl + 左键"},{text:"放大",shortcut:"Ctrl + +"},{text:"缩小",shortcut:"Ctrl + -"},{text:"放大/缩小",shortcut:"Ctrl + 鼠标滚动"},{text:"回到根节点",shortcut:"Ctrl + Enter"},{text:"适应画布",shortcut:"Ctrl + i"}]}},computed:{mindMapConfig(){return{alwaysShowExpandBtn:!1,mouseScaleCenterUseMousePosition:!1,fit:!0,initRootNodePosition:["left","top"],noteIcon:{icon:'<svg t="1740044024079" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5860" width="200" height="200"><path d="M504.5 101.77c-226.563 0-410.229 183.666-410.229 410.229 0 226.565 183.666 410.231 410.229 410.231s410.229-183.666 410.229-410.231c0-226.563-183.666-410.229-410.229-410.229z m0 755.048c-190.437 0-344.818-154.381-344.818-344.819 0-190.438 154.381-344.818 344.818-344.818 190.438 0 344.819 154.381 344.819 344.818 0 190.439-154.381 344.819-344.819 344.819z" fill="" p-id="5861"></path><path d="M504.5 313.259m-41.998 0a41.998 41.998 0 1 0 83.996 0 41.998 41.998 0 1 0-83.996 0Z" fill="" p-id="5862"></path><path d="M546.498 712.738c0 22.092-17.908 40-40 40h-3.996c-22.091 0-40-17.908-40-40V437.255c0-22.091 17.909-40 40-40h3.996c22.092 0 40 17.909 40 40v275.483z" fill="" p-id="5863"></path></svg>',style:{size:20,color:"#666"}},themeConfig:{lineStyle:"curve",lineColor:"#000",root:{fillColor:"#fff",borderColor:"#000",borderWidth:1,color:"#666",fontWeight:"none"},second:{marginY:10,borderColor:"#000",borderWidth:1},node:{borderColor:"#000",borderWidth:1}},data:this.mindMapData}},controlList(){return[{iconClass:this.isReadonly?"el-icon-edit-outline":"el-icon-view",title:"切换预览/编辑模式",text:this.isReadonly?"编辑":"预览",onClick:()=>{this.isReadonly=!this.isReadonly,this.mindMap.setMode(this.isReadonly?"readonly":"edit")}},{iconClass:"el-icon-warning-outline",title:"键盘快捷键",text:"快捷键",onClick:()=>{this.isShortcut=!this.isShortcut}},{iconClass:"el-icon-zoom-out",title:"缩小图谱",text:"缩小",onClick:()=>{this.mindMap.view.narrow()}},{iconClass:"el-icon-zoom-in",title:"放大图谱",text:"放大",onClick:()=>{this.mindMap.view.enlarge()}},{iconClass:"el-icon-refresh-left",title:"恢复图谱原有尺寸",text:"恢复",onClick:()=>{this.mindMap.view.fit()}},{iconClass:"el-icon-full-screen",title:"全屏查看图谱",text:"全屏",onClick:()=>{const t=document.body;t.requestFullScreen?t.requestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen&&t.mozRequestFullScreen(),setTimeout((()=>{this.mindMap.resize()}),200)}},{iconClass:"el-icon-download",title:"导出图谱",text:"导出"},{iconClass:"el-icon-upload2",title:"上传图谱",text:"上传",onClick:()=>{this.$refs.uploadInput.click()}},{iconClass:"el-icon-folder-checked",title:"保存图谱",text:"保存",onClick:()=>{localStorage.setItem("mindMapData",JSON.stringify(this.mindMapData)),this.$message.success("保存成功")}}]},newControlList(){return this.isReadonly?this.controlList.filter((t=>"快捷键"!==t.text&&"保存"!==t.text&&"上传"!==t.text)):this.controlList}},methods:{addFillProperty(t){t.data?.tag&&t.data.tag.forEach((t=>{switch(t.name){case"redIssuesNum":t.style={fill:"#f56c6c"};break;case"orangeIssuesNum":t.style={fill:"#e6a23c"};break;case"greenNum":t.style={fill:"#67c23a"};break;default:t.style={fill:"#1890ff"}}})),t.children&&t.children.forEach((t=>this.addFillProperty(t)))},init(){this.addFillProperty(this.mindMapData),this.mindMap=new l.A({el:document.getElementById("mindMap"),...this.mindMapConfig}),this.mindMap.on("data_change",this.getMindMapData),this.mindMap.on("node_tag_click",this.nodeTagClick)},getMindMapData(){this.mindMapData=this.mindMap.getData()},nodeTagClick(t,e){"redIssuesNum"!==e.name&&"orangeIssuesNum"!==e.name&&"greenNum"!==e.name||console.log(e.name)},async generateImage(t){const e=await this.mindMap.doExport[t](),n=atob(e.split(",")[1]),i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);const o=new Uint8Array(i),a=new Blob([o],{type:`image/${t}`}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`mindMap-${Date.now()}.${t}`,document.body.appendChild(s),s.click(),document.body.removeChild(s)},handleUpload(t){if("application/json"!=t.target.files[0].type)return this.useMessage("error","请上传JSON格式的文件"),void(t.target.value="");const e=t.target.files[0],n=new FileReader;n.onload=e=>{if(e.target){const n=e.target.result;this.mindMapData=JSON.parse(n),this.mindMap.setFullData(this.mindMapData),this.useMessage("success","文件上传成功"),t.target.value="",setTimeout((()=>{this.mindMap.view.fit()}),100)}},n.readAsText(e)}},created(){localStorage.getItem("mindMapData")&&(this.mindMapData=JSON.parse(localStorage.getItem("mindMapData")))},mounted(){this.init()},beforeDestroy(){this.mindMap&&(this.mindMap.off("data_change",this.getMindMapData),this.mindMap.off("node_tag_click",this.nodeTagClick),this.mindMap.destroy(),this.mindMap=null)}},p=h,f=n(1656),m=(0,f.A)(p,s,r,!1,null,"0fc26610",null),g=m.exports,C={name:"App",components:{index:g},mounted(){document.title="SimpleMindMap"}},x=C,v=(0,f.A)(x,o,a,!1,null,null,null),M=v.exports,b=n(9143),y=n.n(b);i["default"].config.productionTip=!1,i["default"].prototype.useMessage=function(t,e){this.$message({type:t,message:e,duration:1500})},i["default"].use(y()),new i["default"]({render:t=>t(M)}).$mount("#app")}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,i,o,a){if(!i){var s=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],a=t[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<s&&(s=a));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,a,s=i[0],r=i[1],l=i[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var d=l(n)}for(e&&e(i);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkSimpleMindMap"]=self["webpackChunkSimpleMindMap"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(7962)}));i=n.O(i)})();
//# sourceMappingURL=app.4d84c9ce.js.map